---
title: Node.js 패키지 매니저 간단하게 비교하기
description: npm, Yarn, pnpm의 장단점과 사용 시나리오
tags:
  - Node.js
  - Package Manager
pubDate: 2025-03-18
---
## 서론

자바 백앤드 개발로 시작한 개발. 최근 nodejs를 실무에서 많이 사용하다 보니 nodejs 생태계에 빠져있다. nodejs 생태계는 재밌는 게 뭐든 다양한 선택지가 존재하는 것 같다. 패키지 매니저도 마찬가지다. 자바 프로젝트에서 대부분 Gradle만 알면 의존성 관리는 충분했는데 nodejs 프로젝트에선 npm, pnpm, yarn 등 다양하게 사용하는 것 같다. 필자는 npm만 알고 있으면 될 거로 생각했지만 github에서 오픈소스 프로젝트를 사용할 때 패키지 매니저가 다른 경우가 많아서 npm으로 충분해 보이는데 왜 사용하고 어떤 장점과 차이점이 있는지 알아보려고 한다.
## npm - 표준

Node Package Manager(npm)는 Node.js의 기본 패키지 매니저로, 2010년에 출시되었습니다. npm은 현재 세계에서 가장 큰 소프트웨어 레지스트리를 보유하고 있으며, 대부분의 Node.js 개발자가 처음 접하는 패키지 매니저입니다.

### npm의 장점

- **거대한 생태계**: 200만 개 이상의 패키지를 보유
- **공식 지원**: Node.js와 함께 제공되므로 별도 설치 불필요
    - 이 항목 덕분에 대부분의 nodejs 개발자는 npm을 사용합니다.
- **간단한 사용법**: `npm install`과 `package.json`으로 쉽게 의존성 관리

### npm의 단점

- ~~**느린 설치 속도**: 복잡한 의존성 구조에서 성능 저하~~
    - npm v7 이상부턴 병렬로 설치하는 기능이 포함됐습니다.
- ~~**비결정적 설치**: 동일한 `package.json`으로도 다른 환경에서 다른 결과 발생 가능~~
    - npm v5 이상부턴 `package-lock.json`도입으로 개선 됐습니다.
- **비효율적인 저장 공간 사용**: 중복 패키지를 여러 프로젝트에 각각 저장

```
project-a/node_modules/lodash
project-b/node_modules/lodash
```

## Yarn - npm의 단점을 개선하고자 Facebook에서 만든 패키지 매니저

Yarn은 2016년 Facebook에서 npm의 문제점을 해결하기 위해 개발한 패키지 매니저입니다. 출시 당시 npm보다 월등히 빠른 속도와 향상된 보안성을 제공했습니다.

### Yarn의 장점

- **병렬 설치**: 여러 패키지를 동시에 다운로드하여 설치 속도 향상
- **결정적 의존성**: 모든 환경에서 동일한 패키지 버전 설치를 보장하는 yarn.lock 파일
- **향상된 캐싱**: 한 번 다운로드한 패키지를 재사용하여 오프라인 설치 지원
- **워크스페이스**: 모노레포(monorepo) 관리 기능 내장

## pnpm - 디스크 공간의 혁신

pnpm은 "Performant npm"의 약자로, 2016년에 등장한 패키지 매니저입니다. 가장 큰 특징은 디스크 공간을 획기적으로 절약하는 설계 방식입니다.

### pnpm의 장점

- **콘텐츠 주소화 저장소**: 모든 패키지 버전을 전역 저장소에 한 번만 저장하고 프로젝트에는 심볼릭 링크 사용

```
.pnpm-store/v3/files/a5/lodash-4.17.21.tgz
```

- **엄격한 의존성 트리**: 명시적으로 선언된 의존성만 접근 가능한 구조로 유령 의존성 방지
    - 유령 의존성 관련해서 toss 블로그에 자세히 설명 돼 있습니다. [[https://toss.tech/article/node-modules-and-yarn-berry]]
- **빠른 설치 속도**: npm과 Yarn보다 빠른 설치 성능
- **모노레포 지원**: 내장된 워크스페이스 기능

## 실제 사용 시나리오와 권장사항

### 언제 npm을 사용해야 할까?

- 간단한 프로젝트나 시작 단계의 개발에 적합
- 팀원 모두가 새로운 도구 학습 없이 바로 시작할 수 있음

### 언제 Yarn을 사용해야 할까?

- 모노레포 구조의 프로젝트 (Yarn Workspaces 활용)
- React 생태계 프로젝트 (Facebook의 많은 프로젝트가 Yarn 사용)

### 언제 pnpm을 사용해야 할까?

- 디스크 공간 효율성이 중요한 환경
- 많은 패키지와 의존성을 가진 대규모 프로젝트
- 여러 버전의 Node.js를 사용하는 팀

## 결론

각자 프로젝트에 맞게 패키지 매니저를 선택하는게 중요한 것 같습니다. 패키지 매니저는 선택하는건 취향이라 사람들마다 의견이 다릅니다. ~~reddit만 들어가도 의견이 다양합니다...~~ 저는 큰 의존성을 가지지 않는다면 표준이고 더 큰 커뮤니티가 있는 npm을 사용할 것 같습니다. 다들 취향에 맡게 고르세요!
